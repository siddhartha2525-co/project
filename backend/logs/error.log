{"code":"28000","file":"miscinit.c","length":100,"level":"error","line":"770","message":"Failed to connect to PostgreSQL: role \"postgres\" does not exist","name":"error","routine":"InitializeSessionUserId","service":"emotion-engagement-backend","severity":"FATAL","stack":"error: role \"postgres\" does not exist\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async connectDB (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:27:20)\n    at async createTables (/Users/adeshsiddharth123/project 1/backend/src/database/migrate.js:10:5)","timestamp":"2025-08-24 02:44:38"}
{"error":"column s.ended_at does not exist","level":"error","message":"Database query error:","service":"emotion-engagement-backend","text":"SELECT COUNT(DISTINCT su.user_id) as total_students\n       FROM session_users su\n       JOIN sessions s ON su.session_id = s.id\n       WHERE s.ended_at IS NULL AND su.user_id != s.created_by","timestamp":"2025-08-24 16:33:31"}
{"code":"42703","file":"parse_relation.c","length":109,"level":"error","line":"3675","message":"Class overview fetch error: column s.ended_at does not exist","name":"error","position":"142","routine":"errorMissingColumn","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: column s.ended_at does not exist\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/metrics.js:91:33","timestamp":"2025-08-24 16:33:31"}
{"error":"column s.created_by does not exist","level":"error","message":"Database query error:","service":"emotion-engagement-backend","text":"SELECT COUNT(DISTINCT su.user_id) as total_students\n       FROM session_users su\n       JOIN sessions s ON su.session_id = s.id\n       WHERE s.end_time IS NULL AND su.user_id != s.created_by","timestamp":"2025-08-24 16:35:23"}
{"code":"42703","file":"parse_relation.c","hint":"Perhaps you meant to reference the column \"s.created_at\".","length":170,"level":"error","line":"3675","message":"Class overview fetch error: column s.created_by does not exist","name":"error","position":"179","routine":"errorMissingColumn","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: column s.created_by does not exist\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/metrics.js:91:33","timestamp":"2025-08-24 16:35:23"}
{"error":"column em.user_id does not exist","level":"error","message":"Database query error:","service":"emotion-engagement-backend","text":"SELECT COUNT(DISTINCT em.user_id) as online_students\n       FROM engagement_metrics em\n       JOIN sessions s ON em.session_id = s.id\n       WHERE s.end_time IS NULL \n       AND em.timestamp > NOW() - INTERVAL '5 minutes'","timestamp":"2025-08-24 16:36:06"}
{"code":"42703","file":"parse_relation.c","length":108,"level":"error","line":"3675","message":"Class overview fetch error: column em.user_id does not exist","name":"error","position":"23","routine":"errorMissingColumn","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: column em.user_id does not exist\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/metrics.js:99:34","timestamp":"2025-08-24 16:36:06"}
{"error":"column \"emotion_detection_enabled\" of relation \"session_analytics\" does not exist","level":"error","message":"Database query error:","params":[1,true,true,true],"service":"emotion-engagement-backend","text":"INSERT INTO session_analytics \n         (session_id, emotion_detection_enabled, recording_enabled, chat_enabled, created_at)\n         VALUES ($1, $2, $3, $4, CURRENT_TIMESTAMP)","timestamp":"2025-08-24 16:43:40"}
{"code":"42703","file":"parse_target.c","length":155,"level":"error","line":"1080","message":"Session creation error: column \"emotion_detection_enabled\" of relation \"session_analytics\" does not exist","name":"error","position":"54","routine":"checkInsertTargets","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: column \"emotion_detection_enabled\" of relation \"session_analytics\" does not exist\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/sessions.js:50:7","timestamp":"2025-08-24 16:43:40"}
{"error":"invalid input syntax for type integer: \"available\"","level":"error","message":"Database query error:","params":["available",2],"service":"emotion-engagement-backend","text":"SELECT * FROM session_users WHERE session_id = $1 AND user_id = $2","timestamp":"2025-08-24 22:33:36"}
{"code":"22P02","file":"numutils.c","length":147,"level":"error","line":"235","message":"Session fetch error: invalid input syntax for type integer: \"available\"","name":"error","routine":"pg_strtoint32","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: invalid input syntax for type integer: \"available\"\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/sessions.js:178:25","timestamp":"2025-08-24 22:33:36","where":"unnamed portal parameter $1 = '...'"}
{"error":"invalid input syntax for type integer: \"available\"","level":"error","message":"Database query error:","params":["available",2],"service":"emotion-engagement-backend","text":"SELECT * FROM session_users WHERE session_id = $1 AND user_id = $2","timestamp":"2025-08-24 22:33:36"}
{"code":"22P02","file":"numutils.c","length":147,"level":"error","line":"235","message":"Session fetch error: invalid input syntax for type integer: \"available\"","name":"error","routine":"pg_strtoint32","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: invalid input syntax for type integer: \"available\"\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/sessions.js:178:25","timestamp":"2025-08-24 22:33:36","where":"unnamed portal parameter $1 = '...'"}
{"error":"invalid input syntax for type integer: \"available\"","level":"error","message":"Database query error:","params":["available",2],"service":"emotion-engagement-backend","text":"SELECT * FROM session_users WHERE session_id = $1 AND user_id = $2","timestamp":"2025-08-24 22:33:38"}
{"code":"22P02","file":"numutils.c","length":147,"level":"error","line":"235","message":"Session fetch error: invalid input syntax for type integer: \"available\"","name":"error","routine":"pg_strtoint32","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: invalid input syntax for type integer: \"available\"\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/sessions.js:178:25","timestamp":"2025-08-24 22:33:38","where":"unnamed portal parameter $1 = '...'"}
{"error":"invalid input syntax for type integer: \"available\"","level":"error","message":"Database query error:","params":["available",2],"service":"emotion-engagement-backend","text":"SELECT * FROM session_users WHERE session_id = $1 AND user_id = $2","timestamp":"2025-08-24 22:33:38"}
{"code":"22P02","file":"numutils.c","length":147,"level":"error","line":"235","message":"Session fetch error: invalid input syntax for type integer: \"available\"","name":"error","routine":"pg_strtoint32","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: invalid input syntax for type integer: \"available\"\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/sessions.js:178:25","timestamp":"2025-08-24 22:33:38","where":"unnamed portal parameter $1 = '...'"}
{"error":"invalid input syntax for type integer: \"available\"","level":"error","message":"Database query error:","params":["available",2],"service":"emotion-engagement-backend","text":"SELECT * FROM session_users WHERE session_id = $1 AND user_id = $2","timestamp":"2025-08-24 22:34:27"}
{"code":"22P02","file":"numutils.c","length":147,"level":"error","line":"235","message":"Session fetch error: invalid input syntax for type integer: \"available\"","name":"error","routine":"pg_strtoint32","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: invalid input syntax for type integer: \"available\"\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/sessions.js:178:25","timestamp":"2025-08-24 22:34:27","where":"unnamed portal parameter $1 = '...'"}
{"error":"invalid input syntax for type integer: \"available\"","level":"error","message":"Database query error:","params":["available",2],"service":"emotion-engagement-backend","text":"SELECT * FROM session_users WHERE session_id = $1 AND user_id = $2","timestamp":"2025-08-24 22:34:27"}
{"code":"22P02","file":"numutils.c","length":147,"level":"error","line":"235","message":"Session fetch error: invalid input syntax for type integer: \"available\"","name":"error","routine":"pg_strtoint32","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: invalid input syntax for type integer: \"available\"\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/sessions.js:178:25","timestamp":"2025-08-24 22:34:27","where":"unnamed portal parameter $1 = '...'"}
{"error":"invalid input syntax for type integer: \"available\"","level":"error","message":"Database query error:","params":["available",2],"service":"emotion-engagement-backend","text":"SELECT * FROM session_users WHERE session_id = $1 AND user_id = $2","timestamp":"2025-08-24 22:34:28"}
{"code":"22P02","file":"numutils.c","length":147,"level":"error","line":"235","message":"Session fetch error: invalid input syntax for type integer: \"available\"","name":"error","routine":"pg_strtoint32","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: invalid input syntax for type integer: \"available\"\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/sessions.js:178:25","timestamp":"2025-08-24 22:34:28","where":"unnamed portal parameter $1 = '...'"}
{"error":"invalid input syntax for type integer: \"available\"","level":"error","message":"Database query error:","params":["available",2],"service":"emotion-engagement-backend","text":"SELECT * FROM session_users WHERE session_id = $1 AND user_id = $2","timestamp":"2025-08-24 22:34:34"}
{"code":"22P02","file":"numutils.c","length":147,"level":"error","line":"235","message":"Session fetch error: invalid input syntax for type integer: \"available\"","name":"error","routine":"pg_strtoint32","service":"emotion-engagement-backend","severity":"ERROR","stack":"error: invalid input syntax for type integer: \"available\"\n    at /Users/adeshsiddharth123/project 1/backend/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async query (/Users/adeshsiddharth123/project 1/backend/src/database/connection.js:56:17)\n    at async /Users/adeshsiddharth123/project 1/backend/src/routes/sessions.js:178:25","timestamp":"2025-08-24 22:34:34","where":"unnamed portal parameter $1 = '...'"}
